<div class="propiedades-panel">
  <div class="panel-header">
    <h3>Propiedades de Asiento</h3>
    <button type="button" class="btn-eliminar" (click)="eliminarAsiento()">
      <i class="fas fa-trash"></i>
    </button>
  </div>

  <!-- Información del Ticket asociado (solo lectura) -->
  <div class="form-group" *ngIf="asiento.ticket">
    <label>Ticket Asociado:</label>
    <div class="ticket-info">
      <p><strong>Número:</strong> {{asiento.ticket.numero}}</p>
      <p><strong>Estado:</strong> {{getEstadoTicket(asiento.ticket.estado)}}</p>
      <p><strong>Tipo:</strong> {{getTipoTicket(asiento.ticket.tipo)}}</p>
    </div>
  </div>

  <div class="form-group" *ngIf="!asiento.ticket">
    <label class="sin-ticket">Sin ticket asociado</label>
    <p class="help-text">Los tickets se asignan a nivel de fila</p>
  </div>

  <!-- Propiedades de estilo del asiento -->
  <div class="form-group">
    <label for="margenR">Margen Derecho:</label>
    <input 
      type="number" 
      id="margenR"
      [(ngModel)]="asiento.margenR" 
      (ngModelChange)="onAsientoChange()"
      class="form-control"
      min="0"
      placeholder="Margen derecho en píxeles">
  </div>

  <div class="form-group">
    <label for="margenL">Margen Izquierdo:</label>
    <input 
      type="number" 
      id="margenL"
      [(ngModel)]="asiento.margenL" 
      (ngModelChange)="onAsientoChange()"
      class="form-control"
      min="0"
      placeholder="Margen izquierdo en píxeles">
  </div>
  <!-- Direct Style Properties -->
  <div class="style-properties">
    <h4>Propiedades de Estilo</h4>
    
    <div class="form-row">
      <div class="form-group">
        <label for="ancho">Ancho (px):</label>
        <input 
          type="number" 
          id="ancho"
          [ngModel]="asiento.estilo?.width || 30" 
          (ngModelChange)="updateStyleProperty('width', $event)"
          class="form-control"
          min="10"
          max="100"
          placeholder="30">
      </div>

      <div class="form-group">
        <label for="alto">Alto (px):</label>
        <input 
          type="number" 
          id="alto"
          [ngModel]="asiento.estilo?.height || 30" 
          (ngModelChange)="updateStyleProperty('height', $event)"
          class="form-control"
          min="10"
          max="100"
          placeholder="30">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="colorFondo">Color de Fondo:</label>
        <div class="color-input-group">
          <input 
            type="color" 
            id="colorFondo"
            [ngModel]="asiento.estilo?.backgroundColor || '#28a745'" 
            (ngModelChange)="updateStyleProperty('backgroundColor', $event)"
            class="color-picker">
          <input 
            type="text" 
            [ngModel]="asiento.estilo?.backgroundColor || '#28a745'" 
            (ngModelChange)="updateStyleProperty('backgroundColor', $event)"
            class="form-control color-text"
            placeholder="#28a745">
        </div>
      </div>

      <div class="form-group">
        <label for="borderColor">Color de Borde:</label>
        <div class="color-input-group">
          <input 
            type="color" 
            id="borderColor"
            [ngModel]="asiento.estilo?.borderColor || '#1e7e34'" 
            (ngModelChange)="updateStyleProperty('borderColor', $event)"
            class="color-picker">
          <input 
            type="text" 
            [ngModel]="asiento.estilo?.borderColor || '#1e7e34'" 
            (ngModelChange)="updateStyleProperty('borderColor', $event)"
            class="form-control color-text"
            placeholder="#1e7e34">
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="borderWidth">Grosor Borde (px):</label>
        <input 
          type="number" 
          id="borderWidth"
          [ngModel]="asiento.estilo?.borderWidth || 1" 
          (ngModelChange)="updateStyleProperty('borderWidth', $event)"
          class="form-control"
          min="0"
          max="10"
          placeholder="1">
      </div>

      <div class="form-group">
        <label for="borderRadius">Border Radius (px):</label>
        <input 
          type="number" 
          id="borderRadius"
          [ngModel]="asiento.estilo?.borderRadius || 4" 
          (ngModelChange)="updateStyleProperty('borderRadius', $event)"
          class="form-control"
          min="0"
          max="50"
          placeholder="4">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="color">Color de Texto:</label>
        <div class="color-input-group">
          <input 
            type="color" 
            id="color"
            [ngModel]="asiento.estilo?.color || '#ffffff'" 
            (ngModelChange)="updateStyleProperty('color', $event)"
            class="color-picker">
          <input 
            type="text" 
            [ngModel]="asiento.estilo?.color || '#ffffff'" 
            (ngModelChange)="updateStyleProperty('color', $event)"
            class="form-control color-text"
            placeholder="#ffffff">
        </div>
      </div>

      <div class="form-group">
        <label for="fontSize">Tamaño Fuente (px):</label>
        <input 
          type="number" 
          id="fontSize"
          [ngModel]="asiento.estilo?.fontSize || 12" 
          (ngModelChange)="updateStyleProperty('fontSize', $event)"
          class="form-control"
          min="8"
          max="24"
          placeholder="12">
      </div>
    </div>
  </div>
</div>
